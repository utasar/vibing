.ORIG x3000

START
LEA R0, PROMPT
PUTS

LEA R2, PASSWORD
AND R3, R3, #0
AND R4, R4, #0

STRING_LENGTH_LOOP
LDR R0, R2, #0
BRz BREAK_STRING_LENGTH_LOOP
ADD R3, R3, #1
ADD R2, R2, #1
BRnzp STRING_LENGTH_LOOP

BREAK_STRING_LENGTH_LOOP
LEA R2, PASSWORD

CHARACTER_ENTRY_LOOP
GETC
LD R1, NEGATIVE_ENTER
ADD R1, R1, R0
BRz ENTER_DETECTED
LDR R1, R2, #0
ADD R2, R2, #1
ADD R3, R3, #-1
NOT R1, R1
ADD R1, R1, #1
ADD R0, R1, R0
BRz CHARACTER_ENTRY_LOOP
ADD R4, R4, #1
BRnzp CHARACTER_ENTRY_LOOP

ENTER_DETECTED
ADD R4, R4, R3
BRz SUCCESS_DETECTED
LEA R0, FAILURE
PUTS
BRnzp START

SUCCESS_DETECTED
LEA R0, SUCCESS
PUTS
HALT

NEGATIVE_ENTER .FILL #-10
PASSWORD .STRINGZ "ABCD1234"
PROMPT .STRINGZ "Please type your password: "
SUCCESS .STRINGZ "Login Successful\n"
FAILURE .STRINGZ "Login Unsuccessful: Incorrect Password\n"

.END
